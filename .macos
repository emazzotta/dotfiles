#!/bin/bash

sudo crontab -u ${USER} ${CRONTAB_FILE}
sudo dscl . -append /Groups/admin GroupMembership ${USER}
sudo scutil --set HostName Emanuele-Machine
sudo scutil --set LocalHostName Emanuele-Machine
sudo scutil --set ComputerName Emanuele-Machine

sudo defaults write -g InitialKeyRepeat -int 20
sudo defaults write -g KeyRepeat -int 2
sudo defaults write /Library/Preferences/com.apple.TimeMachine RequiresACPower -bool false
sudo defaults write /Library/Preferences/com.apple.loginwindow LoginwindowText "If found please return to Emanuele Mazzotta - Call +41787055667"
sudo defaults write com.apple.BluetoothAudioAgent "Apple Bitpool Min (editable)" -int 40
sudo defaults write com.apple.Safari IncludeDevelopMenu -bool true
sudo defaults write com.apple.Safari InstallExtensionUpdatesAutomatically -bool true
sudo defaults write com.apple.Safari SendDoNotTrackHTTPHeader -bool true
sudo defaults write com.apple.Safari WebKitDeveloperExtrasEnabledPreferenceKey -bool true
sudo defaults write com.apple.Safari com.apple.Safari.ContentPageGroupIdentifier.WebKit2DeveloperExtrasEnabled -bool true
sudo defaults write com.apple.SoftwareUpdate AutomaticCheckEnabled -bool true
sudo defaults write com.apple.SoftwareUpdate AutomaticDownload -int 1
sudo defaults write com.apple.SoftwareUpdate CriticalUpdateInstall -int 1
sudo defaults write com.apple.SoftwareUpdate ScheduleFrequency -int 1
sudo defaults write com.apple.screensaver askForPassword -int 1
sudo defaults write com.apple.screensaver askForPasswordDelay -int 0
sudo defaults write com.apple.commerce AutoUpdate -bool true
sudo defaults write com.apple.menuextra.battery ShowPercent -string "YES"
# Prevent Time Machine from prompting to use new hard drives as backup volume
sudo defaults write com.apple.TimeMachine DoNotOfferNewDisksForBackup -bool true
# When performing a search, search the current folder by default
sudo defaults write com.apple.finder FXDefaultSearchScope -string "SCcf"
# Copy email addresses as `foo@example.com` instead of `Foo Bar <foo@example.com>` in Mail.app
sudo defaults write com.apple.mail AddressesIncludeNameOnPasteboard -bool false
# Add the keyboard shortcut âŒ˜ + Enter to send an email in Mail.app
sudo defaults write com.apple.mail NSUserKeyEquivalents -dict-add "Send" -string "@\\U21a9"
# Finder: show all filename extensions
sudo defaults write NSGlobalDomain AppleShowAllExtensions -bool true
# Disable the warning when changing a file extension
sudo defaults write com.apple.finder FXEnableExtensionChangeWarning -bool false

while IFS=':' read -r bundle_id extension ; do
    change_file_extension ${bundle_id} ${extension}
done <<< cat <<EOF
com.aone.keka:zip
com.aone.keka:7z
com.aone.keka:tar.gz
org.vim.MacVim:py
org.vim.MacVim:h
org.vim.MacVim:mbox
org.vim.MacVim:opml
org.vim.MacVim:csv
org.vim.MacVim:c
org.vim.MacVim:cpp
org.vim.MacVim:js
org.vim.MacVim:txt
org.vim.MacVim:sh
com.apple.Preview:pdf
org.mozilla.firefox:json
com.google.Chrome:html
com.jetbrains.intellij:iml
abnerworks.Typora:md
abnerworks.Typora:adoc
EOF

